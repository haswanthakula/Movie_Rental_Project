{"version":3,"file":"static/js/811.f04abb55.chunk.js","mappings":"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","sources":["components/Navbar.js","components/CheckoutForm.js","pages/user/CartPage.js"],"sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Navbar = () => {\r\n  const { cartCount } = useCart();\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    toast.success('Logged out successfully');\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <Nav>\r\n      <Logo>Movie Rental</Logo>\r\n      <NavLinks>\r\n        <NavLink to=\"/user/home\">Home</NavLink>\r\n        <NavLink to=\"/user/movies\">Movies</NavLink>\r\n        <NavLink to=\"/user/cart\">\r\n          Cart ({cartCount})\r\n        </NavLink>\r\n        <NavLink to=\"/user/orders\">Orders</NavLink>\r\n        <UserName>Welcome, {user?.name || 'User'}</UserName>\r\n        <LogoutButton onClick={handleLogout}>Logout</LogoutButton>\r\n      </NavLinks>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nconst Nav = styled.nav`\r\n  background: #141414;\r\n  padding: 1rem 2rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  color: #e50914;\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst NavLinks = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2rem;\r\n`;\r\n\r\nconst NavLink = styled(Link)`\r\n  color: white;\r\n  text-decoration: none;\r\n  font-size: 1rem;\r\n  transition: color 0.3s ease;\r\n\r\n  &:hover {\r\n    color: #e50914;\r\n  }\r\n`;\r\n\r\nconst UserName = styled.span`\r\n  color: white;\r\n  margin-right: 1rem;\r\n`;\r\n\r\nconst LogoutButton = styled.button`\r\n  background: #e50914;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n`;\r\n\r\nexport default Navbar;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst CheckoutForm = ({ onSubmit, total, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    address: '',\r\n    phone: ''\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Basic validation\r\n    if (!formData.name || !formData.email || !formData.address || !formData.phone) {\r\n      toast.error('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(formData.email)) {\r\n      toast.error('Please enter a valid email address');\r\n      return;\r\n    }\r\n\r\n    // Phone validation\r\n    const phoneRegex = /^\\d{10}$/;\r\n    if (!phoneRegex.test(formData.phone)) {\r\n      toast.error('Please enter a valid 10-digit phone number');\r\n      return;\r\n    }\r\n\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <FormTitle>Checkout</FormTitle>\r\n      <Form onSubmit={handleSubmit}>\r\n        <FormGroup>\r\n          <Label>Name *</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"Enter your full name\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Email *</Label>\r\n          <Input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"Enter your email\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Address *</Label>\r\n          <Textarea\r\n            name=\"address\"\r\n            value={formData.address}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"Enter your full address\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Phone *</Label>\r\n          <Input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            value={formData.phone}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"Enter 10-digit phone number\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <OrderSummary>\r\n          <SummaryTitle>Order Total:</SummaryTitle>\r\n          <TotalAmount>${total.toFixed(2)}</TotalAmount>\r\n        </OrderSummary>\r\n\r\n        <ButtonGroup>\r\n          <CancelButton type=\"button\" onClick={onCancel}>\r\n            Cancel\r\n          </CancelButton>\r\n          <SubmitButton type=\"submit\">\r\n            Place Order\r\n          </SubmitButton>\r\n        </ButtonGroup>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\n// ... styled components remain the same\r\n\r\n\r\n// Styled components\r\nconst FormContainer = styled.div`\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst FormTitle = styled.h2`\r\n  color: #333;\r\n  margin-bottom: 1rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: #333;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0.8rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #e50914;\r\n  }\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  padding: 0.8rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #e50914;\r\n  }\r\n`;\r\n\r\nconst OrderSummary = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.7rem;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst SummaryTitle = styled.span`\r\n  font-weight: bold;\r\n  color: #333;\r\n`;\r\n\r\nconst TotalAmount = styled.span`\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  color: #e50914;\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 0.8rem;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  flex: 1;\r\n  padding: 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n`;\r\n\r\nconst SubmitButton = styled(Button)`\r\n  background: #e50914;\r\n  color: white;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n`;\r\n\r\nconst CancelButton = styled(Button)`\r\n  background: #666;\r\n  color: white;\r\n\r\n  &:hover {\r\n    background: #777;\r\n  }\r\n`;\r\n\r\nexport default CheckoutForm;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Navbar from '../../components/Navbar';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport CheckoutForm from '../../components/CheckoutForm';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { useOrders } from '../../contexts/OrderContext';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst CartPage = () => {\r\n  const { cart, removeFromCart, updateQuantity, clearCart } = useCart();\r\n  const navigate = useNavigate();\r\n  const [isCheckingOut, setIsCheckingOut] = useState(false);\r\n  const { addOrder } = useOrders();\r\n  const { user } = useAuth();\r\n\r\n  const handleClearCart = () => {\r\n      clearCart();\r\n      toast.success('Cart cleared successfully');\r\n  };\r\n\r\n  // Calculate total\r\n  const calculateTotal = () => {\r\n    return cart.reduce((total, item) => total + (parseFloat(item.price) * item.quantity), 0);\r\n  };\r\n\r\n  const handleProceedToCheckout = () => {\r\n    if (!cart || cart.length === 0) {\r\n      toast.error('Your cart is empty!');\r\n      return;\r\n    }\r\n    setIsCheckingOut(true);\r\n  };\r\n\r\n  const handleCheckout = async (formData) => {\r\n    try {\r\n      // Validate cart and user\r\n      if (!user) {\r\n        toast.error('Please log in to place an order');\r\n        return;\r\n      }\r\n\r\n      if (cart.length === 0) {\r\n        toast.error('Your cart is empty');\r\n        return;\r\n      }\r\n\r\n      // Prepare order data\r\n      const orderData = {\r\n        id: 'ord_' + Date.now(),\r\n        userId: user.id,\r\n        userName: user.name,\r\n        items: cart.map(item => ({\r\n          id: item.id,\r\n          title: item.title,\r\n          price: parseFloat(item.price),\r\n          quantity: item.quantity,\r\n          image: item.image\r\n        })),\r\n        total: calculateTotal(),\r\n        customerInfo: formData,\r\n        orderDate: new Date().toISOString(),\r\n      };\r\n\r\n      // Validate order total\r\n      if (orderData.total <= 0) {\r\n        toast.error('Invalid order total. Please check your cart.');\r\n        return;\r\n      }\r\n\r\n      // Optional: Post order to JSON server if needed\r\n      try {\r\n        await axios.post('https://movies-json-hiql.onrender.com/orders', orderData);\r\n      } catch (apiError) {\r\n        console.warn('Failed to post order to JSON server:', apiError);\r\n        // Continue with local storage processing even if API fails\r\n      }\r\n\r\n      // Update user's orders in localStorage\r\n      const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n      const userIndex = users.findIndex(u => u.id === user.id);\r\n\r\n      if (userIndex !== -1) {\r\n        if (!users[userIndex].orders) {\r\n          users[userIndex].orders = [];\r\n        }\r\n        users[userIndex].orders.push(orderData);\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n      } else {\r\n        // Fallback: create new user entry if not found\r\n        users.push({\r\n          ...user,\r\n          orders: [orderData]\r\n        });\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n      }\r\n\r\n      // Add order to context\r\n      await addOrder(orderData);\r\n\r\n      // Clear the cart after successful order\r\n      clearCart();\r\n\r\n      // Show a success notification\r\n      toast.success('Order placed successfully!');\r\n\r\n      // Navigate to the user's orders page\r\n      navigate('/user/orders');\r\n\r\n    } catch (err) {\r\n      console.error('Checkout error:', err);\r\n      \r\n      // More specific error handling\r\n      if (err.response) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        toast.error(`Checkout failed: ${err.response.data.message || 'Server error'}`);\r\n      } else if (err.request) {\r\n        // The request was made but no response was received\r\n        toast.error('No response from server. Please check your internet connection.');\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        toast.error('Failed to process checkout. Please try again later.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleQuantityUpdate = (itemId, newQuantity) => {\r\n    if (newQuantity < 1) {\r\n      removeFromCart(itemId);\r\n      toast.info('Item removed from cart');\r\n      return;\r\n    }\r\n    updateQuantity(itemId, newQuantity);\r\n  };\r\n\r\n  const handleRemoveItem = (itemId) => {\r\n    removeFromCart(itemId);\r\n    toast.info('Item removed from cart');\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar />\r\n      <Content>\r\n        {!isCheckingOut && (\r\n          <>\r\n            <CartHeader>\r\n              <Title>Shopping Cart ({cart.length} items)</Title>\r\n              {cart && cart.length > 0 && (\r\n                <ClearCartButton onClick={handleClearCart}>\r\n                  Clear Cart\r\n                </ClearCartButton>\r\n              )}\r\n            </CartHeader>\r\n\r\n            {!cart || cart.length === 0 ? (\r\n              <EmptyCart>\r\n                <h3>Your cart is empty</h3>\r\n                <p>Add some movies to get started!</p>\r\n                <ShopButton onClick={() => navigate('/user/movies')}>\r\n                  Browse Movies\r\n                </ShopButton>\r\n              </EmptyCart>\r\n            ) : (\r\n              <>\r\n                <CartItems>\r\n                  {cart.map((item) => (\r\n                    <CartItem key={item.id}>\r\n                      <ItemImage \r\n                        src={item.image || `https://via.placeholder.com/150x200?text=${encodeURIComponent(item.title)}`} \r\n                        alt={item.title}\r\n                        onError={(e) => {\r\n                          e.target.src = `https://via.placeholder.com/150x200?text=${encodeURIComponent(item.title)}`;\r\n                        }}\r\n                      />\r\n                      <ItemDetails>\r\n                        <ItemTitle>{item.title}</ItemTitle>\r\n                        <ItemPrice>${parseFloat(item.price).toFixed(2)}</ItemPrice>\r\n                        <QuantityControl>\r\n                          <QuantityButton\r\n                            onClick={() => handleQuantityUpdate(item.id, item.quantity - 1)}\r\n                            disabled={item.quantity <= 1}\r\n                          >\r\n                            -\r\n                          </QuantityButton>\r\n                          <QuantityDisplay>{item.quantity}</QuantityDisplay>\r\n                          <QuantityButton\r\n                            onClick={() => handleQuantityUpdate(item.id, item.quantity + 1)}\r\n                          >\r\n                            +\r\n                          </QuantityButton>\r\n                        </QuantityControl>\r\n                        <ItemSubtotal>\r\n                          Subtotal: ${(parseFloat(item.price) * item.quantity).toFixed(2)}\r\n                        </ItemSubtotal>\r\n                        <RemoveButton onClick={() => handleRemoveItem(item.id)}>\r\n                          Remove\r\n                        </RemoveButton>\r\n                      </ItemDetails>\r\n                    </CartItem>\r\n                  ))}\r\n                </CartItems>\r\n                <CartSummary>\r\n                  <SummaryDetails>\r\n                    <SummaryItem>\r\n                      <span>Subtotal:</span>\r\n                      <span>${calculateTotal().toFixed(2)}</span>\r\n                    </SummaryItem>\r\n                    <SummaryItem>\r\n                      <span>Tax (10%):</span>\r\n                      <span>${(calculateTotal() * 0.1).toFixed(2)}</span>\r\n                    </SummaryItem>\r\n                    <Total>\r\n                      <span>Total:</span>\r\n                      <span>${(calculateTotal() * 1.1).toFixed(2)}</span>\r\n                    </Total>\r\n                  </SummaryDetails>\r\n                  <CheckoutButton onClick={handleProceedToCheckout}>\r\n                    Proceed to Checkout\r\n                  </CheckoutButton>\r\n                </CartSummary>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {isCheckingOut && (\r\n          <CheckoutForm\r\n            onSubmit={handleCheckout}\r\n            total={calculateTotal()}\r\n            onCancel={() => setIsCheckingOut(false)}\r\n          />\r\n        )}\r\n      </Content>\r\n    </Container>\r\n  );\r\n};\r\n\r\n// Styled Components\r\nconst Container = styled.div`\r\n  min-height: 100vh;\r\n  background-color: #f5f5f5;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  color: #333;\r\n  margin-bottom: 2rem;\r\n  font-size: 1.8rem;\r\n`;\r\n\r\n\r\nconst CartHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst ClearCartButton = styled.button`\r\n  background-color: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: #c82333;\r\n  }\r\n`;\r\n\r\nconst EmptyCart = styled.div`\r\n  text-align: center;\r\n  padding: 3rem;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n\r\n  h3 {\r\n    color: #333;\r\n    margin-bottom: 1rem;\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  p {\r\n    color: #666;\r\n    font-size: 1.1rem;\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nconst ShopButton = styled.button`\r\n  background: #e50914;\r\n  color: white;\r\n  border: none;\r\n  padding: 1rem 2rem;\r\n  border-radius: 4px;\r\n  font-size: 1.1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n`;\r\n\r\nconst CartItems = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst CartItem = styled.div`\r\n  display: flex;\r\n  gap: 2rem;\r\n  background: white;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst ItemImage = styled.img`\r\n  width: 120px;\r\n  height: 180px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n`;\r\n\r\nconst ItemDetails = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst ItemTitle = styled.h3`\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst ItemPrice = styled.div`\r\n  color: #e50914;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst ItemSubtotal = styled.div`\r\n  color: #666;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst QuantityControl = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst QuantityButton = styled.button`\r\n  background: #e50914;\r\n  color: white;\r\n  border: none;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n\r\n  &:disabled {\r\n    background: #ccc;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst QuantityDisplay = styled.span`\r\n  font-size: 1.1rem;\r\n  color: #333;\r\n  min-width: 40px;\r\n  text-align: center;\r\n`;\r\n\r\nconst RemoveButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #e50914;\r\n  cursor: pointer;\r\n  padding: 0.5rem 0;\r\n  font-size: 0.9rem;\r\n  text-align: left;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst CartSummary = styled.div`\r\n  background: white;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst SummaryDetails = styled.div`\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst SummaryItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 0.5rem;\r\n  color: #666;\r\n`;\r\n\r\nconst Total = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 1.3rem;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-top: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: 1px solid #eee;\r\n`;\r\n\r\nconst CheckoutButton = styled.button`\r\n  background: #e50914;\r\n  color: white;\r\n  border: none;\r\n  padding: 1rem 2rem;\r\n  border-radius: 4px;\r\n  font-size: 1.1rem;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n  width: 100%;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n`;\r\n\r\nexport default CartPage;\r\n"],"names":["Nav","styled","nav","_templateObject","_taggedTemplateLiteral","Logo","div","_templateObject2","NavLinks","_templateObject3","NavLink","Link","_templateObject4","UserName","span","_templateObject5","LogoutButton","button","_templateObject6","Navbar","cartCount","useCart","user","logout","useAuth","navigate","useNavigate","_jsxs","children","_jsx","to","name","onClick","handleLogout","toast","success","FormContainer","FormTitle","h2","Form","form","FormGroup","Label","label","Input","input","Textarea","textarea","_templateObject7","OrderSummary","_templateObject8","SummaryTitle","_templateObject9","TotalAmount","_templateObject10","ButtonGroup","_templateObject11","Button","_templateObject12","SubmitButton","_templateObject13","CancelButton","_templateObject14","_ref","onSubmit","total","onCancel","formData","setFormData","useState","email","address","phone","handleChange","e","value","target","prev","_objectSpread","preventDefault","error","test","type","onChange","required","placeholder","toFixed","Container","Content","Title","CartHeader","ClearCartButton","EmptyCart","ShopButton","CartItems","CartItem","ItemImage","img","ItemDetails","ItemTitle","h3","ItemPrice","ItemSubtotal","QuantityControl","_templateObject15","QuantityButton","_templateObject16","QuantityDisplay","_templateObject17","RemoveButton","_templateObject18","CartSummary","_templateObject19","SummaryDetails","_templateObject20","SummaryItem","_templateObject21","Total","_templateObject22","CheckoutButton","_templateObject23","CartPage","cart","removeFromCart","updateQuantity","clearCart","isCheckingOut","setIsCheckingOut","addOrder","useOrders","calculateTotal","reduce","item","parseFloat","price","quantity","handleQuantityUpdate","itemId","newQuantity","info","_Fragment","length","handleClearCart","map","src","image","concat","encodeURIComponent","title","alt","onError","id","disabled","handleRemoveItem","handleProceedToCheckout","CheckoutForm","async","orderData","Date","now","userId","userName","items","customerInfo","orderDate","toISOString","axios","post","apiError","console","warn","users","JSON","parse","localStorage","getItem","userIndex","findIndex","u","orders","push","setItem","stringify","err","response","data","message","request"],"sourceRoot":""}