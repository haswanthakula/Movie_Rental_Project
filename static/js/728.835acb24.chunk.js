"use strict";(self.webpackChunkmovie_rental_project=self.webpackChunkmovie_rental_project||[]).push([[728],{4380:(e,n,r)=>{r.d(n,{A:()=>v});var o=r(7528),i=r(5043),t=r(5464),d=r(6580);const a=()=>{const[e,n]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=localStorage.getItem("user");e&&n(JSON.parse(e))}),[]);return{user:e,login:e=>{localStorage.setItem("user",JSON.stringify(e)),n(e)},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("userRole"),n(null)},isAuthenticated:!!e,isAdmin:"admin"===(null===e||void 0===e?void 0:e.role)}};var s,l,c,u,m,g=r(2115),h=r(579);const p=t.Ay.nav(s||(s=(0,o.A)(["\n  background: #141e30;\n  padding: 1rem 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),x=(0,t.Ay)(d.N_)(l||(l=(0,o.A)(["\n  color: white;\n  font-size: 1.5rem;\n  font-weight: bold;\n  text-decoration: none;\n"]))),A=t.Ay.div(c||(c=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n"]))),b=(0,t.Ay)(d.N_)(u||(u=(0,o.A)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  &.active {\n    background: rgba(255, 255, 255, 0.1);\n  }\n"]))),y=t.Ay.button(m||(m=(0,o.A)(["\n  background: #e50914;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n\n  &:hover {\n    background: #f40612;\n  }\n"]))),v=()=>{const{logout:e}=a(),n=(0,d.Zp)();return(0,h.jsxs)(p,{children:[(0,h.jsx)(x,{to:"/admin/dashboard",children:"Movie Rental Admin"}),(0,h.jsxs)(A,{children:[(0,h.jsx)(b,{to:"/admin/dashboard",children:"Dashboard"}),(0,h.jsx)(b,{to:"/admin/movies",children:"Movie Management"}),(0,h.jsx)(b,{to:"/admin/sales-report",children:"Sales Report"}),(0,h.jsx)(y,{onClick:()=>{localStorage.removeItem("userRole"),g.oR.info("Logged out successfully"),n("/")},children:"Logout"})]})]})}},3728:(e,n,r)=>{r.r(n),r.d(n,{default:()=>xe});var o,i,t,d,a,s,l,c,u,m,g,h,p,x,A,b,y,v,j,f,w,k,C,R,M,S,L,D,z,I,q,E=r(7528),N=r(9379),_=r(5043),F=r(5464),U=r(4380),J=r(4710),O=r(2115),P=(r(2342),r(9029)),$=r(9383),H=r(579);const T=F.Ay.div(o||(o=(0,E.A)(["\n  min-height: 100vh;\n  background-color: #f5f5f5;\n"]))),Z=F.Ay.div(i||(i=(0,E.A)(["\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),B=F.Ay.div(t||(t=(0,E.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n"]))),G=(F.Ay.h1(d||(d=(0,E.A)(["\n  color: #333;\n"]))),F.Ay.button(a||(a=(0,E.A)(["\n  padding: 0.8rem 1.5rem;\n  background-color: #e50914;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n\n  &:hover {\n    background-color: #f40612;\n  }\n"])))),K=F.Ay.div(s||(s=(0,E.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 2rem;\n"]))),Q=F.Ay.div(l||(l=(0,E.A)(["\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n"]))),V=F.Ay.img(c||(c=(0,E.A)(["\n  width: 100%;\n  height: 300px;\n  object-fit: cover;\n"]))),W=F.Ay.div(u||(u=(0,E.A)(["\n  padding: 1rem;\n"]))),X=F.Ay.h3(m||(m=(0,E.A)(["\n  margin: 0 0 1rem 0;\n  color: #333;\n"]))),Y=F.Ay.p(g||(g=(0,E.A)(["\n  margin: 0 0 1rem 0;\n  color: #333;\n  font-weight: bold;\n"]))),ee=F.Ay.div(h||(h=(0,E.A)(["\n  display: flex;\n  gap: 0.5rem;\n"]))),ne=F.Ay.button(p||(p=(0,E.A)(["\n  padding: 0.5rem 1rem;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #45a049;\n  }\n"]))),re=F.Ay.button(x||(x=(0,E.A)(["\n  padding: 0.5rem 1rem;\n  background-color: #f44336;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #da190b;\n  }\n"]))),oe=F.Ay.div(A||(A=(0,E.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),ie=F.Ay.div(b||(b=(0,E.A)(["\n  background: white;\n  padding: 2rem;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n"]))),te=F.Ay.div(y||(y=(0,E.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n"]))),de=(F.Ay.h2(v||(v=(0,E.A)(["\n  margin: 0;\n  color: #333;\n"]))),F.Ay.button(j||(j=(0,E.A)(["\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #666;\n\n  &:hover {\n    color: #333;\n  }\n"])))),ae=F.Ay.form(f||(f=(0,E.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),se=F.Ay.div(w||(w=(0,E.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),le=F.Ay.label(k||(k=(0,E.A)(["\n  color: #333;\n  font-size: 0.9rem;\n"]))),ce=F.Ay.input(C||(C=(0,E.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n\n  &:focus {\n    outline: none;\n    border-color: #e50914;\n  }\n"]))),ue=F.Ay.textarea(R||(R=(0,E.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n\n  &:focus {\n    outline: none;\n    border-color: #e50914;\n  }\n"]))),me=(F.Ay.div(M||(M=(0,E.A)(["\n  text-align: center;\n  \n  p {\n    margin-bottom: 1.5rem;\n    color: #666;\n  }\n"]))),F.Ay.button(S||(S=(0,E.A)(["\n  padding: 0.8rem 1.5rem;\n  background-color: #f44336;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #da190b;\n  }\n"]))),F.Ay.button(L||(L=(0,E.A)(["\n  padding: 0.8rem 1.5rem;\n  background-color: #666;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #777;\n  }\n"]))),F.Ay.button(D||(D=(0,E.A)(["\n  padding: 0.8rem 1.5rem;\n  background-color: #e50914;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f40612;\n  }\n"])))),ge=F.Ay.div(z||(z=(0,E.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]))),he=F.Ay.div(I||(I=(0,E.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]))),pe=F.Ay.button(q||(q=(0,E.A)(["\n  padding: 0.8rem 1.5rem;\n  background-color: #e50914;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f40612;\n  }\n"]))),xe=()=>{const{movies:e,loading:n,error:r,addMovie:o,updateMovie:i,deleteMovie:t}=(0,J.$H)(),[d,a]=(0,_.useState)(!1),[s,l]=(0,_.useState)(""),[c,u]=(0,_.useState)(null),[m,g]=(0,_.useState)({title:"",price:"",description:"",category:"",image:"",releaseDate:"",rating:{rate:0,count:0}});if(n)return(0,H.jsxs)(T,{children:[(0,H.jsx)(U.A,{}),(0,H.jsxs)(ge,{children:[(0,H.jsx)(P.A,{size:"large"}),(0,H.jsx)("p",{children:"Loading movies..."})]})]});if(r)return(0,H.jsxs)(T,{children:[(0,H.jsx)(U.A,{}),(0,H.jsxs)(he,{children:[(0,H.jsx)($.A,{message:"Error Loading Movies",description:r,type:"error",showIcon:!0}),(0,H.jsx)(pe,{onClick:()=>window.location.reload(),children:"Retry Loading"})]})]});const h=e=>{const{name:n,value:r}=e.target;if(n.includes(".")){const[e,o]=n.split(".");g((n=>(0,N.A)((0,N.A)({},n),{},{[e]:(0,N.A)((0,N.A)({},n[e]),{},{[o]:r})})))}else g((e=>(0,N.A)((0,N.A)({},e),{},{[n]:r})))},p=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(e),u(n),"edit"===e&&n?g(n):"add"===e&&g({title:"",price:"",description:"",category:"",image:"",releaseDate:"",rating:{rate:0,count:0}}),a(!0)};return(0,H.jsxs)(T,{children:[(0,H.jsx)(U.A,{}),(0,H.jsxs)(Z,{children:[(0,H.jsxs)(B,{children:[(0,H.jsx)("h1",{children:"Movie Management"}),(0,H.jsx)(G,{onClick:()=>p("add"),children:"Add New Movie"})]}),(0,H.jsx)(K,{children:e.map((e=>(0,H.jsxs)(Q,{children:[(0,H.jsx)(V,{src:e.image,alt:e.title}),(0,H.jsxs)(W,{children:[(0,H.jsx)(X,{children:e.title}),(0,H.jsxs)(Y,{children:["$",e.price]}),(0,H.jsxs)(ee,{children:[(0,H.jsx)(ne,{onClick:()=>p("edit",e),children:"Edit"}),(0,H.jsx)(re,{onClick:()=>(async e=>{try{await t(e),O.oR.success("Movie deleted successfully!")}catch(r){O.oR.error("Failed to delete movie"),console.error("Error:",r)}})(e.id),children:"Delete"})]})]})]},e.id)))}),d&&(0,H.jsx)(oe,{children:(0,H.jsxs)(ie,{children:[(0,H.jsxs)(te,{children:[(0,H.jsx)("h2",{children:"add"===s?"Add New Movie":"Edit Movie"}),(0,H.jsx)(de,{onClick:()=>a(!1),children:"\xd7"})]}),(0,H.jsxs)(ae,{onSubmit:async n=>{if(n.preventDefault(),m.title&&m.description&&m.price&&m.category&&m.releaseDate?e.some((e=>e.title.toLowerCase()===m.title.toLowerCase()&&(!c||e.id!==c.id)))?(O.oR.error("A movie with this title already exists"),0):!e.some((e=>e.description.toLowerCase()===m.description.toLowerCase()&&(!c||e.id!==c.id)))||(O.oR.error("A movie with this description already exists"),0):(O.oR.error("Please fill in all required fields"),0))try{const e=(0,N.A)((0,N.A)({},m),{},{image:m.image||"https://via.placeholder.com/400x600?text=".concat(encodeURIComponent(m.title))});"add"===s?(await o(e),O.oR.success("Movie added successfully!")):"edit"===s&&(await i(c.id,e),O.oR.success("Movie updated successfully!")),a(!1)}catch(r){O.oR.error("add"===s?"Failed to add movie":"Failed to update movie"),console.error("Error:",r)}},children:[(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Title *"}),(0,H.jsx)(ce,{type:"text",name:"title",value:m.title,onChange:h,required:!0})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Price *"}),(0,H.jsx)(ce,{type:"number",name:"price",value:m.price,onChange:h,step:"0.01",required:!0})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Description *"}),(0,H.jsx)(ue,{name:"description",value:m.description,onChange:h,required:!0})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Category *"}),(0,H.jsx)(ce,{type:"text",name:"category",value:m.category,onChange:h,required:!0})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Image URL"}),(0,H.jsx)(ce,{type:"text",name:"image",value:m.image,onChange:h,placeholder:"Leave empty to use title as placeholder"})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Release Date *"}),(0,H.jsx)(ce,{type:"date",name:"releaseDate",value:m.releaseDate,onChange:h,required:!0})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Rating"}),(0,H.jsx)(ce,{type:"number",name:"rating.rate",value:m.rating.rate,onChange:h,step:"0.1",min:"0",max:"5"})]}),(0,H.jsxs)(se,{children:[(0,H.jsx)(le,{children:"Rating Count"}),(0,H.jsx)(ce,{type:"number",name:"rating.count",value:m.rating.count,onChange:h,min:"0"})]}),(0,H.jsx)(me,{type:"submit",children:"add"===s?"Add Movie":"Update Movie"})]})]})})]})]})}}}]);
//# sourceMappingURL=728.835acb24.chunk.js.map