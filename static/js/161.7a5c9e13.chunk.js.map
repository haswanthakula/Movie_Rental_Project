{"version":3,"file":"static/js/161.7a5c9e13.chunk.js","mappings":"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","sources":["hooks/useAuth.js","components/AdminNavbar.js","pages/admin/SalesReport.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useAuth = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Check localStorage for user data\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  const login = (userData) => {\r\n    // Save user data to localStorage\r\n    localStorage.setItem('user', JSON.stringify(userData));\r\n    setUser(userData);\r\n  };\r\n\r\n  const logout = () => {\r\n    // Clear user data from localStorage\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('userRole');\r\n    setUser(null);\r\n  };\r\n\r\n  return {\r\n    user,\r\n    login,\r\n    logout,\r\n    isAuthenticated: !!user,\r\n    isAdmin: user?.role === 'admin',\r\n  };\r\n};\r\n\r\nexport default useAuth;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport useAuth from '../hooks/useAuth';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst AdminNavbar = () => {\r\n  const { logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('userRole');\r\n    toast.info('Logged out successfully');\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <Nav>\r\n      <NavBrand to=\"/admin/dashboard\">Movie Rental Admin</NavBrand>\r\n      <NavLinks>\r\n        <NavLink to=\"/admin/dashboard\">Dashboard</NavLink>\r\n        <NavLink to=\"/admin/movies\">Movie Management</NavLink>\r\n        <NavLink to=\"/admin/sales-report\">Sales Report</NavLink>\r\n        <LogoutButton onClick={handleLogout}>Logout</LogoutButton>\r\n      </NavLinks>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nconst Nav = styled.nav`\r\n  background: #141e30;\r\n  padding: 1rem 2rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst NavBrand = styled(Link)`\r\n  color: white;\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst NavLinks = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2rem;\r\n`;\r\n\r\nconst NavLink = styled(Link)`\r\n  color: white;\r\n  text-decoration: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  transition: background-color 0.2s;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  &.active {\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n`;\r\n\r\nconst LogoutButton = styled.button`\r\n  background: #e50914;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n\r\n  &:hover {\r\n    background: #f40612;\r\n  }\r\n`;\r\n\r\nexport default AdminNavbar;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { DatePicker, Space, Card, Table, Spin, Alert, Typography, Empty } from 'antd';\nimport { toast } from 'react-toastify';\nimport dayjs from 'dayjs';\nimport Navbar from '../../components/AdminNavbar';\nimport { useMovies } from '../../contexts/MovieContext';\n\nconst { RangePicker } = DatePicker;\nconst { Title } = Typography;\n\nconst SalesReport = () => {\n  const { movies } = useMovies();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [dateRange, setDateRange] = useState([\n    dayjs().subtract(7, 'day'),\n    dayjs()\n  ]);\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = () => {\n    try {\n      const users = JSON.parse(localStorage.getItem('users') || '[]');\n      const allOrders = users.flatMap(user => user.orders || []);\n      \n      if (allOrders.length === 0) {\n        setError('No orders found. Start selling movies to generate a sales report.');\n      } else {\n        setOrders(allOrders);\n        setError(null);\n      }\n      \n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      setError('Failed to load orders. Please check your local storage.');\n      setLoading(false);\n    }\n  };\n\n  const handleDateRangeChange = (dates) => {\n    setDateRange(dates);\n  };\n\n  // Filter orders by date range\n  const filteredOrders = orders.filter(order => {\n    const orderDate = dayjs(order.orderDate);\n    return orderDate.isAfter(dateRange[0]) && \n           orderDate.isBefore(dateRange[1].add(1, 'day'));\n  });\n\n  // Calculate statistics\n  const statistics = {\n    totalOrders: filteredOrders.length,\n    totalRevenue: filteredOrders.reduce((sum, order) => sum + order.total, 0),\n    averageOrderValue: filteredOrders.length > 0 \n      ? filteredOrders.reduce((sum, order) => sum + order.total, 0) / filteredOrders.length \n      : 0,\n    totalMovies: filteredOrders.reduce((sum, order) => sum + order.items.length, 0)\n  };\n\n  const orderColumns = [\n    {\n      title: 'Order ID',\n      dataIndex: 'id',\n      key: 'id',\n    },\n    {\n      title: 'Customer',\n      dataIndex: 'customerInfo',\n      key: 'customer',\n      render: (customerInfo) => customerInfo?.name || 'Unknown'\n    },\n    {\n      title: 'Date',\n      dataIndex: 'orderDate',\n      key: 'date',\n      render: (date) => dayjs(date).format('YYYY-MM-DD HH:mm')\n    },\n    {\n      title: 'Total',\n      dataIndex: 'total',\n      key: 'total',\n      render: (total) => `$${total.toFixed(2)}`\n    }\n  ];\n\n  if (loading) {\n    return (\n      <Container>\n        <Navbar />\n        <LoadingContainer>\n          <Spin size=\"large\" />\n          <p>Loading sales report...</p>\n        </LoadingContainer>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <Navbar />\n        <ErrorContainer>\n          <Alert \n            message=\"Sales Report\" \n            description={error} \n            type=\"warning\" \n            showIcon \n          />\n        </ErrorContainer>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Navbar />\n      <Content>\n        <Space direction=\"vertical\" size=\"large\" style={{ width: '100%' }}>\n          <RangePicker \n            value={dateRange}\n            onChange={handleDateRangeChange}\n            style={{ marginBottom: '20px' }}\n          />\n\n          <StatisticsRow>\n            <Card title=\"Total Orders\" style={{ width: 200 }}>\n              {statistics.totalOrders}\n            </Card>\n            <Card title=\"Total Revenue\" style={{ width: 200 }}>\n              ${statistics.totalRevenue.toFixed(2)}\n            </Card>\n            <Card title=\"Avg Order Value\" style={{ width: 200 }}>\n              ${statistics.averageOrderValue.toFixed(2)}\n            </Card>\n            <Card title=\"Total Movies Sold\" style={{ width: 200 }}>\n              {statistics.totalMovies}\n            </Card>\n          </StatisticsRow>\n\n          <Title level={3}>Order History</Title>\n          {filteredOrders.length > 0 ? (\n            <Table \n              columns={orderColumns} \n              dataSource={filteredOrders}\n              rowKey=\"id\"\n              pagination={{ pageSize: 5 }}\n            />\n          ) : (\n            <Empty \n              description=\"No orders found in the selected date range\" \n              style={{ margin: '20px 0' }} \n            />\n          )}\n        </Space>\n      </Content>\n    </Container>\n  );\n};\n\n// Styled Components\nconst Container = styled.div`\n  min-height: 100vh;\n  background-color: #f5f5f5;\n`;\n\nconst Content = styled.div`\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst StatisticsRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nconst ErrorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nexport default SalesReport;"],"names":["useAuth","user","setUser","useState","useEffect","storedUser","localStorage","getItem","JSON","parse","login","userData","setItem","stringify","logout","removeItem","isAuthenticated","isAdmin","role","Nav","styled","nav","_templateObject","_taggedTemplateLiteral","NavBrand","Link","_templateObject2","NavLinks","div","_templateObject3","NavLink","_templateObject4","LogoutButton","button","_templateObject5","AdminNavbar","navigate","useNavigate","_jsxs","children","_jsx","to","onClick","handleLogout","toast","info","RangePicker","DatePicker","Title","Typography","Container","Content","StatisticsRow","LoadingContainer","ErrorContainer","SalesReport","movies","useMovies","orders","setOrders","loading","setLoading","error","setError","dateRange","setDateRange","dayjs","subtract","fetchOrders","allOrders","flatMap","length","console","filteredOrders","filter","order","orderDate","isAfter","isBefore","add","statistics","totalOrders","totalRevenue","reduce","sum","total","averageOrderValue","totalMovies","items","orderColumns","title","dataIndex","key","render","customerInfo","name","date","format","concat","toFixed","Navbar","Spin","size","Alert","message","description","type","showIcon","Space","direction","style","width","value","onChange","dates","marginBottom","Card","level","Table","columns","dataSource","rowKey","pagination","pageSize","Empty","margin"],"sourceRoot":""}